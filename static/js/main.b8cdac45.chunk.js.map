{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","img/default.jpg","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services-api/ImagesAPI.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","query","setQuery","className","s","Searchbar","event","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","value","onChange","currentTarget","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGallaryItem","alt","prevImg","largeImg","onClick","ImageGalleryItem","ImageGalleryItemImage","src","defaultImg","ImageGallary","images","ImageGallery","map","image","tags","webformatURL","largeImageURL","id","API_KEY","BASE_URL","ImagesApi","ImagesFetch","searchQuery","page","fetch","then","response","json","data","hits","Button","onClickButton","Section","modalRoot","document","querySelector","Modal","onClose","largeImage","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","Overlay","target","App","setSearchQuery","setImages","setPage","loading","setLoading","setError","modalImage","setModalImage","modalAlt","setModalAlt","searchImages","results","length","prev","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","searchData","color","height","width","Loader","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8cdac45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1d35k\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__ZCc-3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Section\":\"Button_Section__2UdvG\",\"Button\":\"Button_Button__1JpSc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1-zBU\",\"Modal\":\"Modal_Modal__3c6kz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1P0Tc\",\"Loader\":\"App_Loader__2-Sn6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__22CJg\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\n\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FaSearch } from 'react-icons/fa';\nimport s from './Searchbar.module.css';\n\nexport default function SearchBar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query.trim() === '') {\n      toast.error('Enter your request!');\n      return;\n    }\n    onSubmit(query);    \n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <FaSearch />\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          name=\"query\"\n          value={query}\n          onChange={handleQueryChange}\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport defaultImg from '../../img/default.jpg';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGallaryItem = ({ alt, prevImg, largeImg, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        src={prevImg ?? defaultImg}\n        alt={alt}\n        onClick={() => onClick(largeImg, alt)}\n      />\n    </li>\n  );\n};\n\nImageGallaryItem.propTypes = {\n  alt: PropTypes.string,\n  prevImg: PropTypes.string,\n  largeImg: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallaryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGallaryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallary({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGallaryItem\n          key={image.id}\n          alt={image.tags}\n          prevImg={image.webformatURL}\n          largeImg={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallary.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      tags: PropTypes.string,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallary;\n","const API_KEY = `23556027-7518a6338651e19ee58531f7f`;\nconst BASE_URL = `https://pixabay.com/api/`;\nconst perPage = 12;\n\nfunction ImagesFetch(searchQuery, page = 1) {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n  )\n    .then(response => response.json())\n    .then(data => data.hits);\n}\n\nconst ImagesApi = {\n  ImagesFetch,\n};\n\nexport default ImagesApi;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nfunction Button({ onClickButton }) {\n  return (\n    <div className={s.Section}>\n      <button type=\"submit\" onClick={onClickButton} className={s.Button}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, largeImage, alt }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={largeImage} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { useEffect, useState } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport SearchBar from './components/Searchbar';\nimport ImageGallary from './components/ImageGallery';\nimport ImagesApi from './services-api/ImagesAPI';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport s from './App.module.css';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [modalImage, setModalImage] = useState(null);\n  const [modalAlt, setModalAlt] = useState(null);\n\n  const handleSearchFormSubmit = searchData => {\n    if (searchQuery === searchData) {\n      return;\n    }\n    setSearchQuery('');\n    setPage(1);\n    setImages([]);\n    setLoading(false);\n    setSearchQuery(searchData);\n  };\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n    searchImages();\n  }, [searchQuery, page]);\n\n  const loadMoreBtn = () => {\n    setPage(prevPage => prevPage + 1);\n};\n\nconst searchImages = ()=> {\n  setLoading(true);\n  ImagesApi.ImagesFetch(searchQuery, page)\n    .then(results => {\n      if (results.length === 0) {\n        toast.error(\n          `No results were found for your query - \"${searchQuery}\"!`,\n        );\n        return;\n      }\n      setImages(prev => [...prev, ...results]);  \n      return;\n    })\n    .catch(error => setError(error))\n    .finally(setLoading(false));\n}\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n\n  const closeModal = e => {\n    setModalImage(null);\n  };\n\n  const openModal = (largeImage, alt) => {\n    setModalImage(largeImage);\n    setModalAlt(alt);\n  };\n\n  return (\n    <>\n      <div className={s.App}>\n        <SearchBar onSubmit={handleSearchFormSubmit} />\n        {error && <h1>Ошибка на сервере</h1>}\n        {loading && (\n          <Loader\n            type=\"Oval\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            className={s.Loader}\n          />\n        )}\n        {images.length > 0 && (\n          <ImageGallary images={images} onClick={openModal} />\n        )}\n        {images.length > 11 && !loading && (\n          <Button onClickButton={loadMoreBtn} />\n        )}\n        {modalImage && (\n          <Modal onClose={closeModal} largeImage={modalImage} alt={modalAlt} />\n        )}\n        <ToastContainer />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__m_s2R\",\"SearchForm\":\"Searchbar_SearchForm__3reky\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1heve\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1TSRW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1B519\"};"],"sourceRoot":""}