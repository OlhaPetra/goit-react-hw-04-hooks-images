{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","img/default.jpg","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services-api/ImagesAPI.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","Searchbar","this","SearchForm","type","onClick","SearchFormButton","SearchFormButtonLabel","name","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallaryItem","alt","prevImg","largeImg","ImageGalleryItem","ImageGalleryItemImage","src","defaultImg","ImageGallary","images","ImageGallery","map","image","tags","webformatURL","largeImageURL","id","API_KEY","BASE_URL","ImagesApi","ImagesFetch","searchQuery","page","fetch","then","response","json","data","hits","Button","onClickButton","Section","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","largeImage","App","loading","modalImage","modalAlt","handleSearchFormSubmit","searchImages","setTimeout","results","length","catch","finally","loadMoreImages","prevImages","closeModal","openModal","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,OAAS,yB,mBCA7DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,mBCAlDD,EAAOC,QAAU,CAAC,aAAe,qC,iNCM3BC,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEH,MAAOE,EAAME,cAAcC,MAAMC,iB,EAGnDC,aAAe,SAAAL,GACbA,EAAMM,iBAC0B,KAA5B,EAAKT,MAAMC,MAAMS,QAIrB,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,MAJrBY,IAAMC,MAAM,wB,4CAOhB,WACE,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAML,SAAUM,KAAKV,aAAcO,UAAWC,IAAEG,WAAhD,UACE,yBACEC,KAAK,SACLC,QAASH,KAAKP,MAAMU,QACpBN,UAAWC,IAAEM,iBAHf,UAKE,cAAC,IAAD,IACA,sBAAMP,UAAWC,IAAEO,sBAAnB,uBAGF,uBACEC,KAAK,QACLlB,MAAOY,KAAKlB,MAAMC,MAClBwB,SAAUP,KAAKhB,kBACfa,UAAWC,IAAEU,gBACbN,KAAK,OACLO,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAxCAC,aAoDT/B,IC3DA,MAA0B,oC,iBC0B1BgC,EApBU,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,IAAKC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,SAAUb,EAAc,EAAdA,QAClD,OACE,oBAAIN,UAAWC,IAAEmB,iBAAjB,SACE,qBACEpB,UAAWC,IAAEoB,sBACbC,IAAG,OAAEJ,QAAF,IAAEA,IAAWK,EAChBN,IAAKA,EACLX,QAAS,kBAAMA,EAAQa,EAAUF,S,iBCqB1BO,MA5Bf,YAA4C,IAApBC,EAAmB,EAAnBA,OAAQnB,EAAW,EAAXA,QAC9B,OACE,oBAAIN,UAAWC,IAAEyB,aAAjB,SACGD,EAAOE,KAAI,SAAAC,GAAK,OACf,cAAC,EAAD,CAEEX,IAAKW,EAAMC,KACXX,QAASU,EAAME,aACfX,SAAUS,EAAMG,cAChBzB,QAASA,GAJJsB,EAAMI,UCXfC,EAAO,qCACPC,EAAQ,2BAWd,IAAMC,EAAY,CAChBC,YATF,SAAqBC,GAAwB,IAAXC,EAAU,uDAAH,EACvC,OAAOC,MAAM,GAAD,OACPL,EADO,cACOG,EADP,iBAC2BC,EAD3B,gBACuCL,EADvC,6DAHE,KAMXO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIA,EAAKC,UAORT,I,iBCGAU,MAdf,YAAoC,IAAlBC,EAAiB,EAAjBA,cAChB,OACE,qBAAK9C,UAAWC,IAAE8C,QAAlB,SACE,wBAAQ1C,KAAK,SAASC,QAASwC,EAAe9C,UAAWC,IAAE4C,OAA3D,0B,iBCFAG,EAAYC,SAASC,cAAc,eAEnCC,E,4MASJC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,MACJ,EAAK1D,MAAM2D,W,EAIfC,oBAAsB,SAAAH,GAChBA,EAAE/D,gBAAkB+D,EAAEI,QACxB,EAAK7D,MAAM2D,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWxD,KAAKiD,iB,kCAG1C,WACEM,OAAOE,oBAAoB,UAAWzD,KAAKiD,iB,oBAe7C,WACE,OAAOS,uBACL,qBAAK7D,UAAWC,IAAE6D,QAASxD,QAASH,KAAKqD,oBAAzC,SACE,qBAAKxD,UAAWC,IAAEkD,MAAlB,SACE,qBAAK7B,IAAKnB,KAAKP,MAAMmE,WAAY9C,IAAKd,KAAKP,MAAMqB,UAGrD+B,O,GA5BcjC,aAqCLoC,I,iBC/BTa,E,4MACJ/E,MAAQ,CACNoD,YAAa,GACbZ,OAAQ,GACRa,KAAM,EACN2B,SAAS,EACTlE,MAAO,KAEPmE,WAAY,KACZC,SAAU,M,EAGZC,uBAAyB,SAAA/B,GACvB,EAAKhD,SAAS,CAAEgD,iB,EAGlBgC,aAAe,SAAAhB,GACb,EAAKhE,SAAS,CAAE4E,SAAS,EAAMxC,OAAQ,GAAIa,KAAM,IAEjDgC,YAAW,WACTnC,EAAUC,YAAY,EAAKnD,MAAMoD,YAAa,EAAKpD,MAAMqD,MACtDE,MAAK,SAAA+B,GACJ,GAAIA,EAAQC,OAAS,EACnB,OAAO,EAAKnF,SAAS,CACnBoC,OAAQ8C,EACRjC,KAAM,EAAKrD,MAAMqD,KAAO,IAG5BxC,IAAMC,MAAN,kDAC6C,EAAKd,MAAMoD,YADxD,UAKDoC,OAAM,SAAA1E,GAAK,OAAI,EAAKV,SAAS,CAAEU,aAC/B2E,QAAQ,EAAKrF,SAAS,CAAE4E,SAAS,OACnC,M,EAGLU,eAAiB,SAAAtB,GACf,MAAsC,EAAKpE,MAAnCqD,EAAR,EAAQA,KAAMD,EAAd,EAAcA,YACRuC,EADN,EAA2BnD,OAE3B,EAAKpC,SAAS,CAAEiD,KAAMA,EAAO,IAE7BH,EAAUC,YAAYC,EAAaC,GAChCE,MAAK,SAAA+B,GAAO,OAAI,EAAKlF,SAAS,CAAEoC,OAAO,GAAD,mBAAMmD,GAAN,YAAqBL,SAC3DE,OAAM,SAAA1E,GAAK,OAAI,EAAKV,SAAS,CAAEU,aAC/B2E,QAAQ,EAAKrF,SAAS,CAAE4E,SAAS,M,EAUtCY,WAAa,SAAAxB,GACX,EAAKhE,SAAS,CAAE6E,WAAY,Q,EAG9BY,UAAY,SAACf,EAAY9C,GACvB,EAAK5B,SAAS,CAAE6E,WAAYH,EAAYI,SAAUlD,K,wDAZpD,WACEyC,OAAOqB,SAAS,CACdC,IAAK/B,SAASgC,gBAAgBC,aAC9BC,SAAU,a,oBAYd,WACE,MAAyDhF,KAAKlB,MAAtDwC,EAAR,EAAQA,OAAQwC,EAAhB,EAAgBA,QAASlE,EAAzB,EAAyBA,MAAOmE,EAAhC,EAAgCA,WAAYC,EAA5C,EAA4CA,SAE5C,OACE,mCACE,sBAAKnE,UAAWC,IAAE+D,IAAlB,UACE,cAAC,EAAD,CACEnE,SAAUM,KAAKiE,uBACf9D,QAASH,KAAKkE,eAEftE,GAAS,8HACTkE,GACC,cAAC,IAAD,CACE5D,KAAK,OACL+E,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPtF,UAAWC,IAAEsF,SAGhB9D,EAAO+C,OAAS,GACf,cAAC,EAAD,CAAc/C,OAAQA,EAAQnB,QAASH,KAAK2E,YAE7CrD,EAAO+C,OAAS,KAAOP,GACtB,cAAC,EAAD,CAAQnB,cAAe3C,KAAKwE,iBAE7BT,GACC,cAAC,EAAD,CACEX,QAASpD,KAAK0E,WACdd,WAAYG,EACZjD,IAAKkD,IAGT,cAAC,IAAD,a,GAjGQpD,aAwGHiD,I,MChHfwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzC,SAAS0C,eAAe,U,kBCT1B7G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.d674da83.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1d35k\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__ZCc-3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Section\":\"Button_Section__2UdvG\",\"Button\":\"Button_Button__1JpSc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1-zBU\",\"Modal\":\"Modal_Modal__3c6kz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1P0Tc\",\"Loader\":\"App_Loader__2-Sn6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__22CJg\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FaSearch } from 'react-icons/fa';\nimport s from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.query.trim() === '') {\n      toast.error('Enter your request!');\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button\n            type=\"submit\"\n            onClick={this.props.onClick}\n            className={s.SearchFormButton}\n          >\n            <FaSearch />\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleQueryChange}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport defaultImg from '../../img/default.jpg';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGallaryItem = ({ alt, prevImg, largeImg, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        src={prevImg ?? defaultImg}\n        alt={alt}\n        onClick={() => onClick(largeImg, alt)}\n      />\n    </li>\n  );\n};\n\nImageGallaryItem.propTypes = {\n  alt: PropTypes.string,\n  prevImg: PropTypes.string,\n  largeImg: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallaryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGallaryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallary({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGallaryItem\n          key={image.id}\n          alt={image.tags}\n          prevImg={image.webformatURL}\n          largeImg={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallary.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      tags: PropTypes.string,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallary;\n","const API_KEY = `23556027-7518a6338651e19ee58531f7f`;\nconst BASE_URL = `https://pixabay.com/api/`;\nconst perPage = 12;\n\nfunction ImagesFetch(searchQuery, page = 1) {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n  )\n    .then(response => response.json())\n    .then(data => data.hits);\n}\n\nconst ImagesApi = {\n  ImagesFetch,\n};\n\nexport default ImagesApi;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nfunction Button({ onClickButton }) {\n  return (\n    <div className={s.Section}>\n      <button type=\"submit\" onClick={onClickButton} className={s.Button}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImage} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport SearchBar from './components/Searchbar';\nimport ImageGallary from './components/ImageGallery';\nimport ImagesApi from './services-api/ImagesAPI';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    loading: false,\n    error: null,\n\n    modalImage: null,\n    modalAlt: null,\n  };\n\n  handleSearchFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  searchImages = e => {\n    this.setState({ loading: true, images: [], page: 1 });\n\n    setTimeout(() => {\n      ImagesApi.ImagesFetch(this.state.searchQuery, this.state.page)\n        .then(results => {\n          if (results.length > 0) {\n            return this.setState({\n              images: results,\n              page: this.state.page + 1,\n            });\n          }\n          toast.error(\n            `No results were found for your query - \"${this.state.searchQuery}\"!`,\n          );\n          return;\n        })\n        .catch(error => this.setState({ error }))\n        .finally(this.setState({ loading: false }));\n    }, 100);\n  };\n\n  loadMoreImages = e => {\n    const { page, searchQuery, images } = this.state;\n    const prevImages = images;\n    this.setState({ page: page + 1 });\n\n    ImagesApi.ImagesFetch(searchQuery, page)\n      .then(results => this.setState({ images: [...prevImages, ...results] }))\n      .catch(error => this.setState({ error }))\n      .finally(this.setState({ loading: false }));\n  };\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  closeModal = e => {\n    this.setState({ modalImage: null });\n  };\n\n  openModal = (largeImage, alt) => {\n    this.setState({ modalImage: largeImage, modalAlt: alt });\n  };\n\n  render() {\n    const { images, loading, error, modalImage, modalAlt } = this.state;\n\n    return (\n      <>\n        <div className={s.App}>\n          <SearchBar\n            onSubmit={this.handleSearchFormSubmit}\n            onClick={this.searchImages}\n          />\n          {error && <h1>Ошибка на сервере</h1>}\n          {loading && (\n            <Loader\n              type=\"Oval\"\n              color=\"#3f51b5\"\n              height={80}\n              width={80}\n              className={s.Loader}\n            />\n          )}\n          {images.length > 0 && (\n            <ImageGallary images={images} onClick={this.openModal} />\n          )}\n          {images.length > 11 && !loading && (\n            <Button onClickButton={this.loadMoreImages} />\n          )}\n          {modalImage && (\n            <Modal\n              onClose={this.closeModal}\n              largeImage={modalImage}\n              alt={modalAlt}\n            />\n          )}\n          <ToastContainer />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__m_s2R\",\"SearchForm\":\"Searchbar_SearchForm__3reky\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1heve\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1TSRW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1B519\"};"],"sourceRoot":""}