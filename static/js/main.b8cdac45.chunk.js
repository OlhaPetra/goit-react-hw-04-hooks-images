(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1d35k",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__ZCc-3"}},11:function(e,t,a){e.exports={Section:"Button_Section__2UdvG",Button:"Button_Button__1JpSc"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1-zBU",Modal:"Modal_Modal__3c6kz"}},13:function(e,t,a){e.exports={App:"App_App__1P0Tc",Loader:"App_Loader__2-Sn6"}},17:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__22CJg"}},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),l=(a(23),a(14)),s=a(3),u=a(5),i=a(16),m=a.n(i),j=(a(44),a(15),a(18)),b=a(6),h=a.n(b),g=a(1);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(g.jsx)("header",{className:h.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):u.b.error("Enter your request!")},className:h.a.SearchForm,children:[Object(g.jsxs)("button",{type:"submit",className:h.a.SearchFormButton,children:[Object(g.jsx)(j.a,{}),Object(g.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})]}),Object(g.jsx)("input",{name:"query",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var f=a.p+"static/media/default.2e01288c.jpg",O=a(10),p=a.n(O),_=function(e){var t=e.alt,a=e.prevImg,n=e.largeImg,c=e.onClick;return Object(g.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(g.jsx)("img",{className:p.a.ImageGalleryItemImage,src:null!==a&&void 0!==a?a:f,alt:t,onClick:function(){return c(n,t)}})})},S=a(17),v=a.n(S);var I=function(e){var t=e.images,a=e.onClick;return Object(g.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return Object(g.jsx)(_,{alt:e.tags,prevImg:e.webformatURL,largeImg:e.largeImageURL,onClick:a},e.id)}))})},x="23556027-7518a6338651e19ee58531f7f",y="https://pixabay.com/api/";var k={ImagesFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(y,"?q=").concat(e,"&page=").concat(t,"&key=").concat(x,"&image_type=photo&orientation=horizontal&per_page=").concat(12)).then((function(e){return e.json()})).then((function(e){return e.hits}))}},w=k,B=a(11),C=a.n(B);var F=function(e){var t=e.onClickButton;return Object(g.jsx)("div",{className:C.a.Section,children:Object(g.jsx)("button",{type:"submit",onClick:t,className:C.a.Button,children:"Load more"})})},N=a(12),G=a.n(N),L=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.largeImage,c=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(g.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(g.jsx)("div",{className:G.a.Modal,children:Object(g.jsx)("img",{src:a,alt:c})})}),L)}var M=a(13),q=a.n(M);function A(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),i=o[0],j=o[1],b=Object(n.useState)(1),h=Object(s.a)(b,2),f=h[0],O=h[1],p=Object(n.useState)(!1),_=Object(s.a)(p,2),S=_[0],v=_[1],x=Object(n.useState)(null),y=Object(s.a)(x,2),k=y[0],B=y[1],C=Object(n.useState)(null),N=Object(s.a)(C,2),G=N[0],L=N[1],M=Object(n.useState)(null),A=Object(s.a)(M,2),T=A[0],J=A[1];Object(n.useEffect)((function(){a&&R()}),[a,f]);var R=function(){v(!0),w.ImagesFetch(a,f).then((function(e){0!==e.length?j((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))})):u.b.error('No results were found for your query - "'.concat(a,'"!'))})).catch((function(e){return B(e)})).finally(v(!1))};Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:q.a.App,children:[Object(g.jsx)(d,{onSubmit:function(e){a!==e&&(c(""),O(1),j([]),v(!1),c(e))}}),k&&Object(g.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435"}),S&&Object(g.jsx)(m.a,{type:"Oval",color:"#3f51b5",height:80,width:80,className:q.a.Loader}),i.length>0&&Object(g.jsx)(I,{images:i,onClick:function(e,t){L(e),J(t)}}),i.length>11&&!S&&Object(g.jsx)(F,{onClickButton:function(){O((function(e){return e+1}))}}),G&&Object(g.jsx)(E,{onClose:function(e){L(null)},largeImage:G,alt:T}),Object(g.jsx)(u.a,{})]})})}a(46);o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(A,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__m_s2R",SearchForm:"Searchbar_SearchForm__3reky",SearchFormButton:"Searchbar_SearchFormButton__1heve",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1TSRW",SearchFormInput:"Searchbar_SearchFormInput__1B519"}}},[[47,1,2]]]);
//# sourceMappingURL=main.b8cdac45.chunk.js.map